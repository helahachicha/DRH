<div class="border border-primary mt-1 ">
    <div class="col  ">
        <h1 class="text-center">Detail fiche d'évaluation psychotechnique</h1>
    </div>
</div>


<div class="container">

<!---->
    <div class="shadow-lg p-3 mb-5 mt-5 bg-body rounded" *ngFor="let obj of Employes;let i=index">

        <hr>
        <div class="row justify-content-center">

            <div class="col-md-5">
                <div class="form-group">
                    <div class="form-group">

                        <label for="staticZone">Nom et Prénom</label>
                        <p>{{obj.infoemploye.nomprenom}}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="form-group">
                    <label for="form_name">Objet D'évaluation</label>
                    <p>{{obj.objetevaluation}}</p>
                </div>
            </div>
            <div class="col-md-5">
                <div class="form-group">
                    <label for="form_name">Date d'evaluation </label>
                    <p>{{obj.dateevaluation}}
                    </p>
                </div>
            </div>
            <div class="col-md-5">
                <div class="form-group">
                    <label for="form_name">Décision de la direction</label>
                    <p>{{obj.decisiondirection}}</p>

                </div>
            </div>
            <div class="col-md-5">
                <div class="form-group">

                    <label for="staticZone">Catégorie</label>
                    <p>{{obj.category.label}}
                </div>
            </div>


            <div class="col-md-5">
                <div class="form-group">
                    <label for="form_name">Niveau</label>
                    <!--
                                                <div *ngFor="let niveau of competences.category.niveauvises">
                                                          {{niveau.label}}
                                                  </div> -->
                </div>
            </div>



        </div>

        <hr>
        <div class="table-responsive" *ngFor="let item of obj.category.detailprofilpostes">

            <table class="table table-bordered justify-content-center">

                <thead>



                </thead>
                <tbody>
                    <tr class="text-bold " *ngFor="let comp of item.formcompetences ">

                        <th colspan="3">
                            {{comp.competence.label}}

                        </th>

                        <table style="border: none;">
                            <div *ngFor="let indica of comp.indicateursuivis;let i=index">
                                <ng-container *ngIf=" comp.indicateursuivis[0].label!=''">
                                    <td class="n">
                                        <tr>
                                            N°
                                        </tr>
                                        <hr>
                                        <tr>

                                            {{i+1}}

                                        </tr>
                                    </td>
                                    <td class="ind" >

                                        <tr>
                                            INDICATEUR DE MESURE
                                        </tr>

                                        <hr>
                                        <tr>

                                            {{indica.label}}

                                        </tr>
                                    </td>
                                    <td class="point">
                                        <tr>
                                            POINTS
                                        </tr>
                                        <hr>

                                        <tr *ngIf="indica.pointindicateurs.length!=0">

                                            {{indica.pointindicateurs[0].label}}


                                        </tr>
                                    </td>
                                </ng-container>
                            </div>
                            <div *ngFor="let indicta of comp.competence.scorecompetences">
                                <tr>

                                    <td class="score">
                                        SCORE:
                                    </td>
                                    <td class="sc">

                                        {{indicta.score}}
                                    </td>
                                        
                                
                                <td  class="final">
                                    
                                        Résultat
                                   <hr>
                                   <p [ngClass]="indicta.score >= 0.5 ? 'texte-accepter' : 'texte-refuser'">
                                    {{ indicta.score>= 0.5 ? 'Acceptée' : 'Refusée' }}
                                  </p>
                                    
                                </td>
                                </tr>
                            </div>
                        </table>



                        <table>

                            <div *ngFor="let soucomp of comp.souscompetences;let i=index">

                               
                                  <ng-container *ngIf="soucomp.indicasoucompas[0].label!=''">
                                    <tr   *ngIf="comp.souscompetences.length!=0" class="d-flex text-center py-4 justify-content-center" >

                                        {{soucomp.label}}
    
                                      </tr>
                                <tr  *ngFor="let indicasoucomp of soucomp.indicasoucompas;let c=index" >

                                    <td class="n">
                                        <tr>
                                            N°
                                        </tr>
                                        <hr>
                                        <tr>
                                         {{c+1}}

                                        </tr>

                                    </td>

                                    <td class="ind" >
                                        <tr >
                                            INDICATEUR DE MESURE
                                        </tr>
                                        <hr>
                                        <tr >
                                            {{indicasoucomp.label}}

                                        </tr>
                                       
                                    </td>

                                    <td class="point" *ngFor="let pt of indicasoucomp.pointindicasous">
                                        <tr>
                                            POINTS
                                        </tr>
                                        <hr>

                                        <tr >
                                            {{pt.label}}


                                        </tr>
                                    </td>
                                </tr>
                               
                                <tr>
                                    <td class="score">
                                        SCORE


                                    </td>
                                    <div *ngFor="let test of soucomp.scoresouscomps ">
                                    <td class="sc">
                                        {{test.score}}
                                    </td>

                                    <td class="final">
                                        Résultat
                                        <hr>
                                        <p [ngClass]="test.score >= 0.5 ? 'texte-accepter' : 'texte-refuser'">
                                           {{ test.score >= 0.5 ? 'Acceptée' : 'Refusée' }}
                                          </p>      

                                    </td>
                                </div>
                                </tr>
                           
                            </ng-container>

                            </div>
                        </table>

                    </tr>
                </tbody>
            </table>



           

        </div>






    </div>


</div>